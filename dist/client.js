!// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles
function(e,t,n,r,o){/* eslint-disable no-undef */var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l="function"==typeof s[r]&&s[r],a=l.cache||{},i="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function d(t,n){if(!a[t]){if(!e[t]){// if we cannot find the module within our internal map or
// cache jump to the current global require ie. the last bundle
// that was added to the page.
var o="function"==typeof s[r]&&s[r];if(!n&&o)return o(t,!0);// If there are other bundles on this page the require from the
// previous one is saved to 'previousRequire'. Repeat this as
// many times as there are bundles until the module is found or
// we exhaust the require chain.
if(l)return l(t,!0);// Try the node require function if it exists.
if(i&&"string"==typeof t)return i(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}c.resolve=function(n){var r=e[t][1][n];return null!=r?r:n},c.cache={};var f=a[t]=new d.Module(t);e[t][0].call(f.exports,c,f,f.exports,this)}return a[t].exports;function c(e){var t=c.resolve(e);return!1===t?{}:d(t)}}d.isParcelRequire=!0,d.Module=function(e){this.id=e,this.bundle=d,this.exports={}},d.modules=e,d.cache=a,d.parent=l,d.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(d,"root",{get:function(){return s[r]}}),s[r]=d;for(var u=0;u<t.length;u++)d(t[u]);if(n){// Expose entry point to Node, AMD or browser globals
// Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
var f=d(n);// CommonJS
"object"==typeof exports&&"undefined"!=typeof module?module.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):o&&(this[o]=f)}}({gUvsp:[function(e,t,n){e("./elements/AutoSaveTextElement"),e("./elements/AutoSaveCheckboxElement"),e("./elements/UnloadHandlerElement"),e("./elements/PostFormElement");let r="scroll-position-y",o="focus-element-id",s=sessionStorage.getItem(r)||0;window.scrollTo(0,Number(s));let l=window.document.querySelector('[data-auto-focus="true"]'),a=sessionStorage.getItem(o)||"",i=window.document.getElementById(a);l instanceof HTMLElement?l.focus({preventScroll:!0}):i instanceof HTMLElement&&i.focus({preventScroll:!0}),window.addEventListener("scroll",()=>{window.sessionStorage.setItem(r,`${window.scrollY}`)}),window.document.body.addEventListener("focusin",()=>{sessionStorage.setItem(o,window.document.activeElement?.id||"")})},{"./elements/UnloadHandlerElement":"bGTnF","./elements/PostFormElement":"cKAw4","./elements/AutoSaveTextElement":"jpb0K","./elements/AutoSaveCheckboxElement":"3MJok"}],bGTnF:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"DIRTY_ELEMENTS_KEY",()=>o),r.export(n,"UnloadHandlerElement",()=>s);let o="dirty-elements";class s extends HTMLElement{constructor(){super(),this.boundBeforeUnloadHandler=this.handleBeforeUnload.bind(this)}static get observedAttributes(){return["dirty-elements"]}attributeChangedCallback(e,t,n){"dirty-elements"===e&&(n?this.triggerBeforeUnload():this.removeBeforeUnload())}triggerBeforeUnload(){window.onbeforeunload||(window.onbeforeunload=this.boundBeforeUnloadHandler)}removeBeforeUnload(){window.onbeforeunload&&(window.onbeforeunload=null)}handleBeforeUnload(e){console.log(e),console.log(e.composedPath()),e.preventDefault(),e.returnValue=""}}window.customElements.define("unload-handler",s)},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],k3151:[function(e,t,n){n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach(function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})}),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}],cKAw4:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"PostFormElement",()=>s);var o=e("./UnloadHandlerElement");class s extends HTMLElement{constructor(){super(),this.boundSubmitHandler=this.handleFormSubmit.bind(this)}connectedCallback(){let e=this.querySelector("form");if(!(e instanceof HTMLFormElement))throw Error("PostFormElement must contain a form element");this.formElement=e,this.formElement.addEventListener("submit",this.boundSubmitHandler)}disconnectedCallback(){this.formElement&&this.formElement.removeEventListener("submit",this.boundSubmitHandler)}handleFormSubmit(e){if(e.preventDefault(),!this.formElement)return;let t=window.document.querySelector("unload-handler");if(!t)return;let n=t.getAttribute(o.DIRTY_ELEMENTS_KEY)||"",r=n?n.split(","):[],s=Array.from(this.formElement.elements),l=r.filter(e=>{let t=window.document.getElementById(e);return t&&!s.includes(t)}).join(",");t.setAttribute(o.DIRTY_ELEMENTS_KEY,l),this.formElement.submit()}}window.customElements.define("post-form",s)},{"./UnloadHandlerElement":"bGTnF","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],jpb0K:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"AutoSaveTextElement",()=>a);var o=e("escape-string-regexp"),s=r.interopDefault(o),l=e("./BaseAutoSaveElement");class a extends l.BaseAutoSaveElement{connectedCallback(){this.inputElement.addEventListener("change",this.boundChangeHandler)}disconnectedCallback(){this.inputElement.removeEventListener("change",this.boundChangeHandler)}handleChange(){let e=this.inputElement.value,t=this.inputElement.form;if(!t)return;let n=t.getAttribute("action");if(!n)return;let r=new FormData(t).get("_method")?.toString()||"";["PUT","PATCH"].includes(r)?this.patch(n,e).then(()=>{let t=e?"^"+(0,s.default)(e)+"$":"^$";this.inputElement.setAttribute("pattern",t)}):this.inputElement.validity.patternMismatch?this.markDirty():this.markClean()}}window.customElements.define("auto-save-text",a)},{"escape-string-regexp":"9RGhI","@parcel/transformer-js/src/esmodule-helpers.js":"k3151","./BaseAutoSaveElement":"gOsXZ"}],"9RGhI":[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e){if("string"!=typeof e)throw TypeError("Expected a string");// Escape characters with special meaning either inside or outside character sets.
// Use a simple backslash escape when it’s always valid, and a `\xnn` escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.
return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r.defineInteropFlag(n),r.export(n,"default",()=>o)},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],gOsXZ:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"BaseAutoSaveElement",()=>l);var o=e("../../shared/getUniqueId"),s=e("./UnloadHandlerElement");class l extends HTMLElement{constructor(){if(super(),!this.shadowRoot)throw Error("Declarative shadow root not supported");let e=this.shadowRoot.querySelector("slot");if(!(e instanceof HTMLSlotElement))throw Error("No slot element provided");let t=e.assignedNodes();if(!t||!t.length)throw Error("No content provided");let n=t.find(function(e){return e instanceof HTMLInputElement});if(!n)throw Error("No input element provided");let r=window.document.querySelector("unload-handler");if(!(r instanceof HTMLElement))throw Error("No unload handler element found");this.inputElement=n,this.inputId=n.id||(0,o.getUniqueId)(),this.unloadHandlerElement=r,this.boundChangeHandler=this.handleChange.bind(this),this.boundInputHandler=this.handleInput.bind(this)}handleChange(){}handleInput(){}markDirty(){let e=this.unloadHandlerElement.getAttribute(s.DIRTY_ELEMENTS_KEY)||"",t=e?e.split(","):[];t.push(this.inputId);let n=Array.from(new Set(t)),r=n.join(",");this.unloadHandlerElement.setAttribute(s.DIRTY_ELEMENTS_KEY,r)}markClean(){let e=this.unloadHandlerElement.getAttribute(s.DIRTY_ELEMENTS_KEY)||"",t=e?e.split(","):[],n=t.filter(e=>e!==this.inputId).join(",");this.unloadHandlerElement.setAttribute(s.DIRTY_ELEMENTS_KEY,n)}async patch(e,t){let n=new FormData;return n.append("_method","PATCH"),n.append(this.inputElement.name,t),window.fetch(e,{method:"POST",body:n}).then(e=>{if(404===e.status)throw Error("Not found")}).catch(e=>{console.log(e)})}}},{"../../shared/getUniqueId":"eClT9","./UnloadHandlerElement":"bGTnF","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],eClT9:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"getUniqueId",()=>s);var o=e("uuid");function s(){return`${Date.now()}-${(0,o.v4)()}`}},{uuid:"klst7","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],klst7:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"v1",()=>s.default),r.export(n,"v3",()=>a.default),r.export(n,"v4",()=>d.default),r.export(n,"v5",()=>f.default),r.export(n,"NIL",()=>m.default),r.export(n,"version",()=>h.default),r.export(n,"validate",()=>v.default),r.export(n,"stringify",()=>j.default),r.export(n,"parse",()=>w.default);var o=e("./v1.js"),s=r.interopDefault(o),l=e("./v3.js"),a=r.interopDefault(l),i=e("./v4.js"),d=r.interopDefault(i),u=e("./v5.js"),f=r.interopDefault(u),c=e("./nil.js"),m=r.interopDefault(c),p=e("./version.js"),h=r.interopDefault(p),E=e("./validate.js"),v=r.interopDefault(E),g=e("./stringify.js"),j=r.interopDefault(g),b=e("./parse.js"),w=r.interopDefault(b)},{"./v1.js":!1,"./v3.js":!1,"./v4.js":"fpA4M","./v5.js":!1,"./nil.js":!1,"./version.js":!1,"./validate.js":!1,"./stringify.js":!1,"./parse.js":!1,"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fpA4M:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n);var o=e("./native.js"),s=r.interopDefault(o),l=e("./rng.js"),a=r.interopDefault(l),i=e("./stringify.js");n.default=function(e,t,n){if(s.default.randomUUID&&!t&&!e)return(0,s.default).randomUUID();e=e||{};let r=e.random||(e.rng||(0,a.default))();// Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return(0,i.unsafeStringify)(r)}},{"./native.js":"2mj2P","./rng.js":"lpvWd","./stringify.js":"fHrI1","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"2mj2P":[function(e,t,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(n);let r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);n.default={randomUUID:r}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],lpvWd:[function(e,t,n){let r;// Unique ID creation requires a high quality random # generator. In the browser we therefore
// require the crypto API and do not support built-in fallback to lower quality random number
// generators (like Math.random()).
var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"default",()=>l);let s=new Uint8Array(16);function l(){// lazy load so that environments that need to polyfill have a chance to do so
if(!r&&!// getRandomValues needs to be invoked in a context where "this" is a Crypto implementation.
(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fHrI1:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"unsafeStringify",()=>a);var o=e("./validate.js"),s=r.interopDefault(o);/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */let l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function a(e,t=0){// Note: Be careful editing this code!  It's been tuned for performance
// and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434
return l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]}n.default=function(e,t=0){let n=a(e,t);// Consistency check for valid UUID.  If this throws, it's likely due to one
// of the following:
// - One or more input array values don't map to a hex octet (leading to
// "undefined" in the uuid)
// - Invalid input values for the RFC `version` or `variant` fields
if(!(0,s.default)(n))throw TypeError("Stringified UUID is invalid");return n}},{"./validate.js":"d35r5","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],d35r5:[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n);var o=e("./regex.js"),s=r.interopDefault(o);n.default=function(e){return"string"==typeof e&&(0,s.default).test(e)}},{"./regex.js":"agidw","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],agidw:[function(e,t,n){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(n),n.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"3MJok":[function(e,t,n){var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(n),r.export(n,"AutoSaveCheckboxElement",()=>s);var o=e("./BaseAutoSaveElement");class s extends o.BaseAutoSaveElement{connectedCallback(){this.inputElement.addEventListener("input",this.boundInputHandler)}disconnectedCallback(){this.inputElement.removeEventListener("input",this.boundInputHandler)}handleInput(){let e=this.inputElement.checked,t=e?this.inputElement.value:"",n=this.inputElement.form;if(!n)return;let r=n.getAttribute("action");if(!r)return;let o=new FormData(n).get("_method")?.toString()||"";["PUT","PATCH"].includes(o)?this.patch(r,t).then(()=>{window.location.reload()}):this.inputElement.checked!==this.inputElement.defaultChecked?this.markDirty():this.markClean()}}window.customElements.define("auto-save-checkbox",s)},{"./BaseAutoSaveElement":"gOsXZ","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["gUvsp"],"gUvsp","parcelRequireb585")//# sourceMappingURL=client.js.map
;
//# sourceMappingURL=client.js.map
